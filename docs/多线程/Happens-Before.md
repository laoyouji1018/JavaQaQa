# Happens-Before

​		虽然虚拟机和执行系统会对指令进行一定的重排，但是指令重排是有原则的，并非所有的指令都可以随便改变执行位置。以下罗列了一些基本原则，这些原则是指令重排不可违背的。

-  程序顺序原则:一个线程内保证语义的串行性。
-  `volatile`规则:`volatile`变量的写先发生于读，这保证了`volatile`变量的可见性。

-  锁规则:解锁`(unlock)`必然发生在随后的加锁`(lock)`前。
-  传递性:A先于B，B先于C，那么A必然先于C。
-  线程的`start()`方法先于它的每一个动作。
-  线程的所有操作先于线程的终结(`Thread.join()`)。
-  线程的中断(`interrupt()`)先于被中断线程的代码。
-  对象的构造函数执行结束先于`finalize()`方法。